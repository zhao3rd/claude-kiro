# Yupp Chat Capture - æ›´æ–°æ—¥å¿—

## v1.1 (2025-10-10) - Bug Fix Release

### ğŸ› Bugä¿®å¤

**é—®é¢˜**: è„šæœ¬æ— æ³•æ•è·èŠå¤©è¯·æ±‚
- **åŸå› **: æ•è·æ¡ä»¶è¦æ±‚URLä¸­å¿…é¡»åŒ…å« `stream=true` å‚æ•°ï¼Œä½†å®é™…çš„Yupp.ai API URLæ ¼å¼ä¸º `https://yupp.ai/chat/{uuid}`ï¼Œä¸åŒ…å«è¯¥å‚æ•°
- **ä¿®å¤**: æ”¹ç”¨æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…UUIDæ ¼å¼çš„chat URLï¼Œå¹¶æ£€æŸ¥POSTæ–¹æ³•

**ä¿®æ”¹å‰**:
```javascript
const shouldCapture = url.includes('/chat/') && url.includes('stream=true');
```

**ä¿®æ”¹å**:
```javascript
const chatUrlPattern = /\/chat\/[a-f0-9-]{36}/i;
const shouldCapture = chatUrlPattern.test(url) && config?.method === 'POST';
```

### âœ¨ åŠŸèƒ½æ”¹è¿›

1. **å¢å¼ºçš„è¯·æ±‚ä½“æ•è·**:
   - æ”¹è¿›JSONè§£æé”™è¯¯å¤„ç†
   - æ·»åŠ FormDataç±»å‹æ”¯æŒ
   - æ›´å¥½çš„ç±»å‹æ£€æµ‹å’Œè½¬æ¢

2. **è¯¦ç»†çš„è°ƒè¯•æ—¥å¿—**:
   - æ·»åŠ è¯·æ±‚æ–¹æ³•æ—¥å¿—è¾“å‡º
   - æ·»åŠ è¯·æ±‚è½½è·ç±»å‹è¯†åˆ«
   - æµå¤„ç†è¿›åº¦å®æ—¶æ˜¾ç¤ºï¼ˆæ¯10ä¸ªchunkï¼‰
   - æµå®Œæˆæ—¶æ˜¾ç¤ºæ€»chunkæ•°å’Œå­—èŠ‚æ•°

3. **æ”¹è¿›çš„æµå¤„ç†ç›‘æ§**:
   - å®æ—¶æ˜¾ç¤ºå·²æ¥æ”¶çš„chunkæ•°é‡
   - æ˜¾ç¤ºç´¯è®¡æ¥æ”¶çš„å­—èŠ‚æ•°
   - æ›´æ¸…æ™°çš„æµå¤„ç†çŠ¶æ€è¾“å‡º

### ğŸ“Š æ§åˆ¶å°è¾“å‡ºæ”¹è¿›

**æ–°çš„æ—¥å¿—ç¤ºä¾‹**:
```
[Yupp Chat Capture] ğŸ¯ Capturing chat request: https://yupp.ai/chat/7e2e26d5-907f-49e7-bce0-019daf956dad
[Yupp Chat Capture] ğŸ“‹ Request method: POST
[Yupp Chat Capture] ğŸ“¦ Request payload captured, type: object
[Yupp Chat Capture] ğŸ”„ Starting to read response stream...
[Yupp Chat Capture] ğŸ“Š Received 10 chunks, 2048 bytes
[Yupp Chat Capture] ğŸ“Š Received 20 chunks, 4096 bytes
[Yupp Chat Capture] âœ… Stream completed, total chunks: 25
[Yupp Chat Capture] ğŸ’¾ Saving capture data...
[Yupp Chat Capture] ğŸ’¾ Saved capture to: yupp-chat-capture-2025-10-10T12-34-56-789Z.json
```

### ğŸ”§ æŠ€æœ¯å˜æ›´

1. **URLåŒ¹é…æ¨¡å¼**:
   - ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼ç²¾ç¡®åŒ¹é…UUIDæ ¼å¼
   - æ”¯æŒå¤§å°å†™ä¸æ•æ„ŸåŒ¹é…
   - å¿…é¡»æ˜¯POSTæ–¹æ³•æ‰è§¦å‘æ•è·

2. **é”™è¯¯å¤„ç†**:
   - åµŒå¥—try-catchç¡®ä¿è¯·æ±‚ä½“è§£æå¤±è´¥æ—¶æœ‰é™çº§æ–¹æ¡ˆ
   - æµå¤„ç†é”™è¯¯æ—¶ä»ä¼šä¿å­˜å·²æ•è·çš„æ•°æ®
   - æ›´è¯¦ç»†çš„é”™è¯¯æ—¥å¿—è¾“å‡º

3. **æ€§èƒ½ä¼˜åŒ–**:
   - æ¯10ä¸ªchunkæ‰è¾“å‡ºä¸€æ¬¡è¿›åº¦æ—¥å¿—ï¼Œå‡å°‘æ§åˆ¶å°å™ªéŸ³
   - ä¿æŒåŸæœ‰çš„éé˜»å¡æµå¤„ç†æœºåˆ¶

## v1.0 (2025-10-10) - Initial Release

### âœ¨ åˆå§‹åŠŸèƒ½

- è‡ªåŠ¨æ‹¦æˆªYupp.aièŠå¤©è¯·æ±‚
- æ•è·å®Œæ•´çš„è¯·æ±‚å’Œæµå¼å“åº”
- è‡ªåŠ¨ä¿å­˜ä¸ºJSONæ–‡ä»¶
- æ§åˆ¶å°å‘½ä»¤æ”¯æŒï¼ˆexportAllCaptures, checkCaptureStatusï¼‰
- æ— æŸæ‹¦æˆªï¼Œä¸å½±å“é¡µé¢åŠŸèƒ½

---

## å‡çº§æŒ‡å—

### ä» v1.0 å‡çº§åˆ° v1.1

1. **è‡ªåŠ¨å‡çº§**:
   - TamperMonkeyä¼šåœ¨è®¿é—®Yupp.aiæ—¶è‡ªåŠ¨æ£€æµ‹æ›´æ–°
   - æˆ–è€…åœ¨TamperMonkey Dashboardä¸­æ‰‹åŠ¨æ£€æŸ¥æ›´æ–°

2. **æ‰‹åŠ¨å‡çº§**:
   - åˆ é™¤æ—§ç‰ˆæœ¬è„šæœ¬
   - å¤åˆ¶æ–°ç‰ˆæœ¬è„šæœ¬å†…å®¹
   - åœ¨TamperMonkeyä¸­åˆ›å»ºæ–°è„šæœ¬å¹¶ç²˜è´´
   - ä¿å­˜å¹¶å¯ç”¨

3. **éªŒè¯å‡çº§**:
   - åˆ·æ–°Yupp.aié¡µé¢
   - æŸ¥çœ‹æ§åˆ¶å°ï¼Œåº”æ˜¾ç¤º `v1.1 Active`
   - å¯åŠ¨æ¶ˆæ¯ä¸­åº”æ˜¾ç¤º `Monitoring: POST /chat/{uuid}`

### å…¼å®¹æ€§è¯´æ˜

- âœ… å‘åå…¼å®¹ï¼šv1.1ç”Ÿæˆçš„JSONæ–‡ä»¶æ ¼å¼ä¸v1.0å®Œå…¨ç›¸åŒ
- âœ… æ•°æ®è¿ç§»ï¼šæ— éœ€è¿ç§»ï¼Œæ—§ç‰ˆæœ¬æ•è·çš„æ•°æ®ä»ç„¶æœ‰æ•ˆ
- âœ… APIå…¼å®¹ï¼šæ‰€æœ‰æ§åˆ¶å°å‘½ä»¤ä¿æŒä¸å˜

## å·²çŸ¥é—®é¢˜

ç›®å‰æ²¡æœ‰å·²çŸ¥é—®é¢˜ã€‚å¦‚æœå‘ç°é—®é¢˜ï¼Œè¯·æŸ¥çœ‹æ§åˆ¶å°çš„è¯¦ç»†æ—¥å¿—è¿›è¡Œæ’æŸ¥ã€‚

## è®¡åˆ’åŠŸèƒ½ (Future Roadmap)

- [ ] æ”¯æŒè‡ªå®šä¹‰æ•è·è¿‡æ»¤æ¡ä»¶
- [ ] æ·»åŠ æ•°æ®ç»Ÿè®¡å’Œå¯è§†åŒ–
- [ ] æ”¯æŒå®æ—¶é¢„è§ˆæ•è·çš„å“åº”å†…å®¹
- [ ] æ·»åŠ æ•è·å†å²è®°å½•ç®¡ç†ç•Œé¢
- [ ] æ”¯æŒå¯¼å‡ºä¸ºå…¶ä»–æ ¼å¼ï¼ˆCSV, XMLç­‰ï¼‰
